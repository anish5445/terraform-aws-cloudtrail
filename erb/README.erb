<!-- vim: set ft=markdown: -->
<%
  # A method to reformat the examples source
  # code suitable for the public doc version.
  #
  def filter(remote, file_name)
    %x[sed -E '
      s!source( +)=.*!source\\1= "#{remote}"!
      ' #{file_name}]
  end

  remote = %x{git remote -v}.split("\n")[0].split[1]
-%>
# terraform-aws-cloudtrail

<%= %x{ruby erb/toc.rb erb/README.erb} -%>

## Overview

This repository provides an automated framework for deploying and configuring AWS CloudTrail.

## CloudTrail

This module deploys an organisation-wide CloudTrail.
  - CloudTrail
  - S3 bucket with object locking
  - KMS keys

Terraform <%= %x[awk -F '"' '/required_version/ {print $2}' versions.tf].chomp -%> is required for this module.

### Resources docs

AWS Config automation includes the use of the following core Terraform resources:

- [`aws_cloudtrail`](https://www.terraform.io/docs/providers/aws/r/aws_config_aggregate_authorization.html) - Manages an AWS Config Aggregate Authorization.

### Inputs

The below outlines the current parameters and defaults.

| Name | Description | Type | Default | Required |
|------|-------------|:----:|:-------:|:--------:|
<%= %x{ruby erb/variables2md.rb variables.tf} -%>

### Outputs

Currently none.

### Examples

TODO.

## License

Apache 2.0.
